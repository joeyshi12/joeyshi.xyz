{{- define "styles" }}
    <link rel="stylesheet" href="/css/common.css"/>
    <link rel="stylesheet" href="/css/single.css"/>
{{- end }}

{{- define "scripts" }}
    <script src="/js/copy_code.js"></script>
    {{- range .Params.scripts }}
    <script src="{{ . }}"></script>
    {{- end }}
    <script src="https://giscus.app/client.js"
            data-repo="joeyshi12/joeyshi.xyz"
            data-repo-id="R_kgDOIbcomw"
            data-category="Announcements"
            data-category-id="DIC_kwDOIbcom84CzGek"
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="top"
            data-theme="preferred_color_scheme"
            data-lang="en"
            crossorigin="anonymous"
            async>
    </script>
{{- end }}

{{- define "main" }}
    <article>
        <header>
            <div>
                {{- with .Parent }}
                <a class="parent-link" href="{{ .Permalink }}">{{ .Title }}</a>
                {{- end }}
                <span><i class="fa-solid fa-caret-right"></i></span>
                <h2 class="page-title">{{ .Title }}</h2>
            </div>
            <footer>
                <span class="page-date">{{ .Date | time.Format ":date_long" }}</span>
                {{- if isset .Params "tags" }}
                <div class="page-tags">
                    {{- range .Params.tags }}
                    <a href="/tags/{{ . | urlize }}">#{{ . }}</a>
                    {{- end }}
                </div>
                {{- end }}
            </footer>
        </header>
        {{- if .Param "toc" }}
        <details>
            <summary>Table of contents</summary>
            {{- .TableOfContents }}
        </details>
        {{- end }}
        {{- .Content }}
    </article>
    <div class="giscus"></div>
{{- end }}
